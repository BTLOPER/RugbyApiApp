<UserControl x:Class="RugbyApiApp.MAUI.Views.SettingsTabView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:iconPacks="clr-namespace:MahApps.Metro.IconPacks;assembly=MahApps.Metro.IconPacks.Material">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="../Resources/SharedResources.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>
    <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="24">
        <StackPanel>
            <TextBlock Text="Settings" Style="{StaticResource HeadingStyle}" Margin="0,0,0,24"/>

            <!-- API Configuration Group -->
            <GroupBox Header="API Configuration" Style="{StaticResource ModernGroupBox}" Margin="0,0,0,16">
                <StackPanel>
                    <!-- API Key -->
                    <StackPanel Margin="0,0,0,16">
                        <TextBlock Text="API Key:" Style="{StaticResource TitleStyle}" Margin="0,0,0,8"/>
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                            <PasswordBox x:Name="ApiKeyPasswordBox" 
                                         Style="{StaticResource ModernPasswordBox}"
                                         Width="300" Padding="12,8" 
                                         Visibility="{Binding IsApiKeyVisible, Converter={StaticResource BoolToVisibilityConverter}}"/>
                            <Button Style="{StaticResource PrimaryButtonStyle}" Command="{Binding SaveApiKeyCommand}" Padding="16,10" Margin="8,0,0,0">
                                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Center">
                                    <iconPacks:PackIconMaterial  Kind="Floppy" Width="14" Height="14" Foreground="White" Margin="0,0,4,0"/>
                                    <TextBlock Text="Save" Foreground="White" VerticalAlignment="Center"/>
                                </StackPanel>
                            </Button>
                        </StackPanel>
                        <Button Style="{StaticResource DangerButtonStyle}" Command="{Binding ClearApiKeyCommand}" Padding="16,10" Margin="0,0,8,0">
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Center">
                                <iconPacks:PackIconMaterial  Kind="Key" Width="14" Height="14" Foreground="White" Margin="0,0,4,0"/>
                                <TextBlock Text="Clear API Key" Foreground="White" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>
                        <Button Style="{StaticResource SecondaryButtonStyle}" Command="{Binding TestApiKeyCommand}" Padding="16,10">
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Center">
                                <iconPacks:PackIconMaterial  Kind="Beaker" Width="14" Height="14" Margin="0,0,4,0"/>
                                <TextBlock Text="Test API Key" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>
                    </StackPanel>
                    <TextBlock Text="{Binding StatusMessage}" Style="{StaticResource BodyStyle}" Margin="0,12,0,0" TextWrapping="Wrap" Foreground="{StaticResource TextBrush}"/>
                </StackPanel>
            </GroupBox>

            <!-- Database Group -->
            <GroupBox Header="Database" Style="{StaticResource ModernGroupBox}" Margin="0,0,0,16">
                <StackPanel>
                    <Button Style="{StaticResource PrimaryButtonStyle}" Command="{Binding AutoFetchAllDataCommand}" Height="40" Margin="0,0,0,8">
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Center">
                            <iconPacks:PackIconMaterial  Kind="Refresh" Width="16" Height="16" Foreground="White" Margin="0,0,8,0"/>
                            <TextBlock Text="Auto-Fetch All Data" Foreground="White" VerticalAlignment="Center"/>
                        </StackPanel>
                    </Button>
                    <Button Style="{StaticResource SecondaryButtonStyle}" Command="{Binding ShowDatabasePathCommand}" Height="40" Margin="0,0,0,8">
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Center">
                            <iconPacks:PackIconMaterial  Kind="FolderOpen" Width="16" Height="16" Margin="0,0,8,0"/>
                            <TextBlock Text="Show Database Path" VerticalAlignment="Center"/>
                        </StackPanel>
                    </Button>
                    <Button Style="{StaticResource DangerButtonStyle}" Command="{Binding ClearAllDataCommand}" Height="40">
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Center">
                            <iconPacks:PackIconMaterial  Kind="TrashCan" Width="16" Height="16" Foreground="White" Margin="0,0,8,0"/>
                            <TextBlock Text="Clear All Data" Foreground="White" VerticalAlignment="Center"/>
                        </StackPanel>
                    </Button>
                </StackPanel>
            </GroupBox>

            <!-- About Group -->
            <GroupBox Header="About" Style="{StaticResource ModernGroupBox}">
                <StackPanel>
                    <TextBlock Text="Rugby API Manager v1.0" Style="{StaticResource TitleStyle}" Margin="0,0,0,8"/>
                    <TextBlock Text="A professional application for managing rugby data from api-sports.io" Style="{StaticResource BodyStyle}"/>
                </StackPanel>
            </GroupBox>
        </StackPanel>
    </ScrollViewer>
</UserControl>
